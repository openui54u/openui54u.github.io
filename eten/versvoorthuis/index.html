<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Vers Voor Thuis - Filter maaltijden</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1 { text-align: center; }
        .filterSection { margin-bottom: 20px; }
        .checkbox { margin: 5px 0; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; }
        th { background-color: #f4f4f4; }
        a { color: #007bff; text-decoration: none; }
        a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <h1>Vers Voor Thuis - Filter maaltijden</h1>

    <div class="filterSection">
        <h3>Filter op categorie</h3>
        <div id="categoryFilters"></div>
        <button onclick="applyFilter()">Filter toepassen</button>
        <button onclick="resetFilter()">Reset</button>
    </div>

    <table id="resultsTable">
        <thead>
            <tr>
                <th>Categorie</th>
                <th>Ingrediënten</th>
                <th>Link</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <script>
        // --- CSV data ---
        const data = [
            // voorbeeld data, dit komt uit de CSV
            {"Categorie":"Oosters, Gevogelte","Ingrediënten":"rijst (49%), kippenvlees (11%), ...","Link":"https://versvoorthuis.nl/nl/gerecht/166-paella-met-vis-en-kip/"},
            {"Categorie":"Hollands, Vegetarisch","Ingrediënten":"aardappelen, wortel, ui, ...","Link":"https://versvoorthuis.nl/nl/gerecht/182-groente-stamppot/"},
            // Voeg hier alle rijen uit je CSV toe als JSON objecten
        ];

        // --- Unieke categorieën ---
        const categories = [...new Set(data.flatMap(d => d.Categorie.split(", ").map(c => c.trim())))];

        const filtersDiv = document.getElementById("categoryFilters");
        categories.forEach(cat => {
            const div = document.createElement("div");
            div.className = "checkbox";
            div.innerHTML = `<label><input type="checkbox" value="${cat}"> ${cat}</label>`;
            filtersDiv.appendChild(div);
        });

        // --- Resultaten tonen ---
        const tbody = document.querySelector("#resultsTable tbody");

        function showResults(filteredData) {
            tbody.innerHTML = "";
            filteredData.forEach(d => {
                const row = document.createElement("tr");
                row.innerHTML = `
                    <td>${d.Categorie}</td>
                    <td>${d.Ingrediënten}</td>
                    <td><a href="${d.Link}" target="_blank">Bekijk gerecht</a></td>
                `;
                tbody.appendChild(row);
            });
        }

        function applyFilter() {
            const checked = Array.from(filtersDiv.querySelectorAll("input:checked")).map(i => i.value);
            if (checked.length === 0) {
                showResults(data);
                return;
            }
            const filtered = data.filter(d => checked.some(c => d.Categorie.includes(c)));
            showResults(filtered);
        }

        function resetFilter() {
            filtersDiv.querySelectorAll("input").forEach(i => i.checked = false);
            showResults(data);
        }

        // --- Init ---
        showResults(data);
    </script>
</body>
</html>
